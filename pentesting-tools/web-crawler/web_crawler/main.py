import optparse

from crawler import Crawler

parser = optparse.OptionParser()

parser.add_option('-t', '--target', dest='target', help='Target website url')
parser.add_option('-s', '--subdomains', dest='subdomains', help='Discover the possible subdomains', action='store_true')
parser.add_option('-d', '--hidden', dest='hidden', help='Discover the possible hidden files and directories', action='store_true')
parser.add_option('-u', '--url', dest='url', help='Discover all the URLs', action='store_true')

(options, arguments) = parser.parse_args()

target_url = options.target
subdomains = options.subdomains
hidden = options.hidden
urls = options.url


crawler = Crawler(target_url)

if subdomains:
    crawler.discover_domains()

if hidden:
    crawler.discover_hidden_paths()

if urls:
    crawler.crawl(target_url)
